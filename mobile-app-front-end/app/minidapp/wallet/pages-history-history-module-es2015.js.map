{"version":3,"sources":["./src/app/pages/history/history.page.html","./src/app/pages/history/history.module.ts","./src/app/pages/history/history.page.scss","./src/app/pages/history/history.page.ts","./src/app/pipes/filter.pipe.ts"],"names":[],"mappings":"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","file":"pages-history-history-module-es2015.js","sourcesContent":["module.exports = \"<ion-app>\\n  <ion-header class=\\\"page-header ion-no-border\\\">\\n    <ion-toolbar>\\n         <ion-title *ngIf=\\\"!ios\\\" class=\\\"large-text\\\">\\n          <ion-item id=\\\"title\\\" lines=\\\"none\\\" class=\\\"ion-no-padding\\\">\\n            <ion-icon \\n            class=\\\"menu-btn\\\" \\n            (click)=\\\"openMenu()\\\" \\n            src=\\\"assets/menuIcon.svg\\\"></ion-icon>\\n            History\\n          </ion-item>\\n          <ion-item \\n          id=\\\"subtitle\\\" \\n          class=\\\"breadcrumb ion-no-padding\\\" \\n          lines=\\\"none\\\" \\n          *ngIf=\\\"transactions.length > 0\\\">\\n            Transaction history\\n          </ion-item>\\n        </ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <ion-content>\\n    <ion-list \\n    class=\\\"ion-no-padding\\\" \\n    #historyList  \\n    lines=\\\"none\\\">\\n        <ion-item\\n        *ngFor=\\\"let txn of transactions | historyfilter\\\"\\n        class=\\\"ion-no-padding\\\" \\n        routerLink=\\\"/view-txn/{{ txn.txpow.txpowid }}\\\" \\n        routerDirection=\\\"forward\\\"\\n        lines=\\\"none\\\">\\n            <ion-avatar slot=\\\"start\\\">\\n              <ion-icon\\n              style=\\\"fill: var(--ion-color-secondary) !important\\\"\\n              *ngIf=\\\"txn.values[0]?.amount.substring(0,1) === '-' && !txn.txpow.body.txn.tokengen\\\" \\n              class=\\\"icon\\\" \\n              src=\\\"assets/sendIcon.svg\\\" \\n              alt=\\\"send-receive\\\"></ion-icon>\\n              <ion-icon \\n              style=\\\"fill:var(--ion-color-primary) !important\\\"\\n              *ngIf=\\\"txn.values[0]?.amount.substring(0,1) !== '-' && !txn.txpow.body.txn.tokengen\\\" \\n              class=\\\"icon\\\" src=\\\"assets/receiveIcon.svg\\\" \\n              alt=\\\"send-receive\\\"></ion-icon>\\n              <ion-icon \\n              *ngIf=\\\"txn.txpow.body.txn.tokengen\\\" \\n              class=\\\"icon\\\"\\n              src=\\\"assets/createIcon.svg\\\" \\n              alt=\\\"send-receive\\\"></ion-icon>\\n            </ion-avatar>\\n\\n            <ion-list style=\\\"background-color: transparent; margin:0; padding:2px\\\">\\n              <ion-label class=\\\"token-name\\\">\\n                <h3 \\n                *ngIf=\\\"!txn.txpow.body.txn.tokengen && !txn.values[0]?.name.name\\\">\\n                        {{ txn.values[0].name }}</h3>\\n                        <h3 \\n                *ngIf=\\\"!txn.txpow.body.txn.tokengen && txn.values[0]?.name.name\\\">\\n                        {{ txn.values[0].name.name }}</h3>\\n                <h3 *ngIf=\\\"txn.txpow.body.txn.tokengen\\\">{{ txn.txpow.body.txn.tokengen.token }}</h3>\\n              </ion-label>\\n              \\n\\n              <ion-label \\n              class=\\\"ion-no-padding ion-no-margin transaction-amount\\\" \\n              slot=\\\"end\\\" \\n              *ngIf=\\\"!txn.txpow.body.txn.tokengen\\\">\\n                <span *ngIf=\\\"txn.values[0]?.amount.substring(0,1) === '-'\\\"> \\n                  <h3 class=\\\"minima-numeric left\\\">{{ txn.values[0].amount}}</h3>\\n                </span>\\n                <span *ngIf=\\\"txn.values[0]?.amount.substring(0,1) !== '-'\\\">\\n                  <h3 class=\\\"minima-numeric left\\\">{{ \\\"+\\\"+ txn.values[0].amount}}</h3>\\n                </span>\\n              </ion-label>\\n              <ion-label \\n              class=\\\"ion-no-padding ion-no-margin transaction-amount\\\"\\n              slot=\\\"end\\\" \\n              *ngIf=\\\"txn.txpow.body.txn.tokengen\\\">\\n                <span class=\\\"minima-numeric left\\\">\\n                  <h6>{{\\\"+\\\" + txn.txpow.body.txn.tokengen.total}}</h6>\\n                  <p>{{\\\"-\\\"+txn.values[0].amount+\\\" Mini\\\"}}</p>\\n                </span>\\n              </ion-label>\\n            </ion-list>\\n\\n          <ion-list \\n          slot=\\\"end\\\"\\n          style=\\\"background-color: transparent;\\\" \\n          class=\\\"date-time ion-no-padding ion-no-margin\\\">\\n            <ion-label>\\n            <h6 class=\\\"ion-no-padding ion-no-margin\\\">\\n              {{ txn.values[0].day }} {{ txn.values[0].month }} {{ txn.values[0].year }}\\n            </h6>\\n            <p class=\\\"ion-no-padding ion-no-margin ion-text-right\\\">{{ txn.values[0].time }}</p>\\n            </ion-label>\\n          </ion-list>\\n        </ion-item>\\n    </ion-list>\\n\\n    <ion-grid *ngIf=\\\"transactions.length == 0\\\">\\n      <ion-row>\\n        <ion-col style=\\\"display: flex; align-items:center; justify-content:center\\\" size=\\\"12\\\">\\n          <ion-label>{{ prompt }}</ion-label>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n\\n  </ion-content>\\n\\n  <ion-footer class=\\\"border-t\\\">\\n    <ion-button (click)=\\\"giveMe50()\\\" class=\\\"gimme50 no-ripple\\\" fill=\\\"none\\\">\\n      Gimme 50\\n    </ion-button>\\n  </ion-footer>\\n</ion-app>\"","import { FilterPipe } from './../../pipes/filter.pipe';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HistoryPage } from './history.page';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HistoryPage,\n    children: [\n      {\n        path: 'view-txn',\n        loadChildren: () => import('./view-txn/view-txn.module').then(m => m.ViewTXNPageModule)\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [HistoryPage, FilterPipe]\n})\nexport class HistoryPageModule {}\n","module.exports = \"ion-icon.icon {\\n  width: 36.83px;\\n  height: 36.83px;\\n  display: inline-block;\\n  vertical-align: middle;\\n  -webkit-box-pack: center;\\n          justify-content: center;\\n  align-content: center;\\n}\\n\\nion-card-content ion-text {\\n  margin-top: 10px;\\n}\\n\\nion-list {\\n  background-color: transparent;\\n  margin: 0;\\n  padding: 2px;\\n}\\n\\nion-list ion-item {\\n  --padding-start: 27px;\\n  --inner-padding-end: 27px;\\n}\\n\\nion-list ion-item:first-child {\\n  margin-top: 12px;\\n}\\n\\nion-list ion-item {\\n  --border-width: 0px 0px 0px 0px;\\n  opacity: 1;\\n  --background-activated: var(--ion-color-token)!important;\\n  --background-activated-opacity: 0.2 !important;\\n  --background-hover: var(--ion-color-item-hover);\\n  --background-hover-opacity: 1;\\n  --border-color: var(--ion-color-item-border);\\n}\\n\\nion-list.date-time ion-label {\\n  padding-top: 20px;\\n}\\n\\nion-list.date-time ion-label h6 {\\n  line-height: 10px;\\n  color: #aaaabe;\\n  font-size: 14px;\\n  padding: 0;\\n  margin: 0;\\n}\\n\\nion-list.date-time ion-label p {\\n  line-height: 13px;\\n  color: #aaaabe;\\n  margin: 0;\\n  padding: 0;\\n  font-size: 12px;\\n}\\n\\nion-label {\\n  max-width: auto;\\n  display: inline-block;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\n\\nion-label.transactionLabel h3 {\\n  padding: 0;\\n  margin: 0;\\n  font-family: manrope-medium;\\n  font-size: 16px;\\n}\\n\\nion-label.transactionLabel p {\\n  font-family: manrope-light;\\n  color: #ABACBF;\\n  padding: 0;\\n  margin: 0;\\n}\\n\\nion-label.transactionLabel p.time {\\n  color: var(--ion-color-gray-three);\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\n\\nion-label.token-name h3 {\\n  font-family: manrope-medium;\\n  padding: 0;\\n  margin: 0;\\n  line-height: 17px;\\n  text-overflow: ellipsis;\\n  max-width: 205px;\\n  overflow: hidden;\\n  white-space: nowrap;\\n}\\n\\nion-label.transaction-amount h3 {\\n  padding: 0;\\n  margin: 0;\\n}\\n\\nion-label.transaction-amount p {\\n  line-height: 8px;\\n  padding: 0;\\n  margin: 0;\\n  font-size: 10px;\\n  font-family: manrope-light;\\n}\\n\\nion-content {\\n  overflow-y: scroll;\\n}\\n\\n#filter-settings {\\n  position: absolute;\\n  right: 5%;\\n  top: 15%;\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbGlhc25lbXIvcHJvamVjdHMvV2FsbGV0L21vYmlsZS1hcHAtZnJvbnQtZW5kL2FwcC9zcmMvYXBwL3BhZ2VzL2hpc3RvcnkvaGlzdG9yeS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2hpc3RvcnkvaGlzdG9yeS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxjQUFBO0VBQ0EsZUFBQTtFQUNBLHFCQUFBO0VBQ0Esc0JBQUE7RUFDQSx3QkFBQTtVQUFBLHVCQUFBO0VBQ0EscUJBQUE7QUNDSjs7QURDQTtFQUNJLGdCQUFBO0FDRUo7O0FEQUE7RUFDSSw2QkFBQTtFQUNBLFNBQUE7RUFDQSxZQUFBO0FDR0o7O0FEREE7RUFDSSxxQkFBQTtFQUNBLHlCQUFBO0FDSUo7O0FERkE7RUFDSSxnQkFBQTtBQ0tKOztBREhBO0VBQ0ksK0JBQUE7RUFDQSxVQUFBO0VBQ0Esd0RBQUE7RUFDQSw4Q0FBQTtFQUNBLCtDQUFBO0VBQ0EsNkJBQUE7RUFDQSw0Q0FBQTtBQ01KOztBREpBO0VBQ0ksaUJBQUE7QUNPSjs7QUROSTtFQUNJLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQ1FSOztBRE5JO0VBQ0ksaUJBQUE7RUFDQSxjQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxlQUFBO0FDUVI7O0FETEE7RUFDSSxlQUFBO0VBQ0EscUJBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUNRSjs7QUROQTtFQUNJLFVBQUE7RUFDQSxTQUFBO0VBQ0EsMkJBQUE7RUFDQSxlQUFBO0FDU0o7O0FEUEE7RUFDSSwwQkFBQTtFQUNBLGNBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQ1VKOztBRFJBO0VBQ0ksa0NBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QUNXSjs7QURSSTtFQUNJLDJCQUFBO0VBQ0EsVUFBQTtFQUNBLFNBQUE7RUFDQSxpQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FDV1I7O0FEUEk7RUFDSSxVQUFBO0VBQ0EsU0FBQTtBQ1VSOztBRFJJO0VBQ0ksZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLGVBQUE7RUFDQSwwQkFBQTtBQ1VSOztBRFBBO0VBQ0ksa0JBQUE7QUNVSjs7QURQQTtFQUNJLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7RUFDQSxlQUFBO0FDVUoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9oaXN0b3J5L2hpc3RvcnkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWljb24uaWNvbiB7XG4gICAgd2lkdGg6IDM2LjgzcHg7XG4gICAgaGVpZ2h0OiAzNi44M3B4O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbn1cbmlvbi1jYXJkLWNvbnRlbnQgaW9uLXRleHQge1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG59XG5pb24tbGlzdCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgbWFyZ2luOiAwOyBcbiAgICBwYWRkaW5nOiAycHg7XG59XG5pb24tbGlzdCBpb24taXRlbSB7XG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAyN3B4O1xuICAgIC0taW5uZXItcGFkZGluZy1lbmQ6IDI3cHg7XG59XG5pb24tbGlzdCBpb24taXRlbTpmaXJzdC1jaGlsZCB7XG4gICAgbWFyZ2luLXRvcDogMTJweDtcbn1cbmlvbi1saXN0IGlvbi1pdGVtIHtcbiAgICAtLWJvcmRlci13aWR0aDogMHB4IDBweCAwcHggMHB4O1xuICAgIG9wYWNpdHk6IDE7XG4gICAgLS1iYWNrZ3JvdW5kLWFjdGl2YXRlZDogdmFyKC0taW9uLWNvbG9yLXRva2VuKSFpbXBvcnRhbnQ7XG4gICAgLS1iYWNrZ3JvdW5kLWFjdGl2YXRlZC1vcGFjaXR5OiAwLjIgIWltcG9ydGFudDtcbiAgICAtLWJhY2tncm91bmQtaG92ZXI6IHZhcigtLWlvbi1jb2xvci1pdGVtLWhvdmVyKTtcbiAgICAtLWJhY2tncm91bmQtaG92ZXItb3BhY2l0eTogMTtcbiAgICAtLWJvcmRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWl0ZW0tYm9yZGVyKTtcbn1cbmlvbi1saXN0LmRhdGUtdGltZSBpb24tbGFiZWwge1xuICAgIHBhZGRpbmctdG9wOiAyMHB4O1xuICAgIGg2IHtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEwcHg7XG4gICAgICAgIGNvbG9yOiAjYWFhYWJlO1xuICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICB9XG4gICAgcCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxM3B4O1xuICAgICAgICBjb2xvcjogI2FhYWFiZTtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxufVxuaW9uLWxhYmVsIHtcbiAgICBtYXgtd2lkdGg6IGF1dG87XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbmlvbi1sYWJlbC50cmFuc2FjdGlvbkxhYmVsIGgzIHtcbiAgICBwYWRkaW5nOjA7XG4gICAgbWFyZ2luOjA7XG4gICAgZm9udC1mYW1pbHk6IG1hbnJvcGUtbWVkaXVtO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbn1cbmlvbi1sYWJlbC50cmFuc2FjdGlvbkxhYmVsIHAge1xuICAgIGZvbnQtZmFtaWx5OiBtYW5yb3BlLWxpZ2h0O1xuICAgIGNvbG9yOiAjQUJBQ0JGO1xuICAgIHBhZGRpbmc6MDtcbiAgICBtYXJnaW46MDsgXG59XG5pb24tbGFiZWwudHJhbnNhY3Rpb25MYWJlbCBwLnRpbWUge1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JheS10aHJlZSk7XG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufVxuaW9uLWxhYmVsLnRva2VuLW5hbWUge1xuICAgIGgzIHtcbiAgICAgICAgZm9udC1mYW1pbHk6IG1hbnJvcGUtbWVkaXVtO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxN3B4O1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgbWF4LXdpZHRoOiAyMDVweDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB9XG59XG5pb24tbGFiZWwudHJhbnNhY3Rpb24tYW1vdW50IHtcbiAgICBoMyB7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICB9XG4gICAgcCB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiA4cHg7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICBmb250LWZhbWlseTogbWFucm9wZS1saWdodDtcbiAgICB9XG59XG5pb24tY29udGVudCB7XG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xufVxuXG4jZmlsdGVyLXNldHRpbmdzIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDUlO1xuICAgIHRvcDogMTUlO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuIiwiaW9uLWljb24uaWNvbiB7XG4gIHdpZHRoOiAzNi44M3B4O1xuICBoZWlnaHQ6IDM2LjgzcHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuaW9uLWNhcmQtY29udGVudCBpb24tdGV4dCB7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbmlvbi1saXN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMnB4O1xufVxuXG5pb24tbGlzdCBpb24taXRlbSB7XG4gIC0tcGFkZGluZy1zdGFydDogMjdweDtcbiAgLS1pbm5lci1wYWRkaW5nLWVuZDogMjdweDtcbn1cblxuaW9uLWxpc3QgaW9uLWl0ZW06Zmlyc3QtY2hpbGQge1xuICBtYXJnaW4tdG9wOiAxMnB4O1xufVxuXG5pb24tbGlzdCBpb24taXRlbSB7XG4gIC0tYm9yZGVyLXdpZHRoOiAwcHggMHB4IDBweCAwcHg7XG4gIG9wYWNpdHk6IDE7XG4gIC0tYmFja2dyb3VuZC1hY3RpdmF0ZWQ6IHZhcigtLWlvbi1jb2xvci10b2tlbikhaW1wb3J0YW50O1xuICAtLWJhY2tncm91bmQtYWN0aXZhdGVkLW9wYWNpdHk6IDAuMiAhaW1wb3J0YW50O1xuICAtLWJhY2tncm91bmQtaG92ZXI6IHZhcigtLWlvbi1jb2xvci1pdGVtLWhvdmVyKTtcbiAgLS1iYWNrZ3JvdW5kLWhvdmVyLW9wYWNpdHk6IDE7XG4gIC0tYm9yZGVyLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItaXRlbS1ib3JkZXIpO1xufVxuXG5pb24tbGlzdC5kYXRlLXRpbWUgaW9uLWxhYmVsIHtcbiAgcGFkZGluZy10b3A6IDIwcHg7XG59XG5pb24tbGlzdC5kYXRlLXRpbWUgaW9uLWxhYmVsIGg2IHtcbiAgbGluZS1oZWlnaHQ6IDEwcHg7XG4gIGNvbG9yOiAjYWFhYWJlO1xuICBmb250LXNpemU6IDE0cHg7XG4gIHBhZGRpbmc6IDA7XG4gIG1hcmdpbjogMDtcbn1cbmlvbi1saXN0LmRhdGUtdGltZSBpb24tbGFiZWwgcCB7XG4gIGxpbmUtaGVpZ2h0OiAxM3B4O1xuICBjb2xvcjogI2FhYWFiZTtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbmlvbi1sYWJlbCB7XG4gIG1heC13aWR0aDogYXV0bztcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuaW9uLWxhYmVsLnRyYW5zYWN0aW9uTGFiZWwgaDMge1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IDA7XG4gIGZvbnQtZmFtaWx5OiBtYW5yb3BlLW1lZGl1bTtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuXG5pb24tbGFiZWwudHJhbnNhY3Rpb25MYWJlbCBwIHtcbiAgZm9udC1mYW1pbHk6IG1hbnJvcGUtbGlnaHQ7XG4gIGNvbG9yOiAjQUJBQ0JGO1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IDA7XG59XG5cbmlvbi1sYWJlbC50cmFuc2FjdGlvbkxhYmVsIHAudGltZSB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JheS10aHJlZSk7XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG5pb24tbGFiZWwudG9rZW4tbmFtZSBoMyB7XG4gIGZvbnQtZmFtaWx5OiBtYW5yb3BlLW1lZGl1bTtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luOiAwO1xuICBsaW5lLWhlaWdodDogMTdweDtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIG1heC13aWR0aDogMjA1cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG5cbmlvbi1sYWJlbC50cmFuc2FjdGlvbi1hbW91bnQgaDMge1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IDA7XG59XG5pb24tbGFiZWwudHJhbnNhY3Rpb24tYW1vdW50IHAge1xuICBsaW5lLWhlaWdodDogOHB4O1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgZm9udC1mYW1pbHk6IG1hbnJvcGUtbGlnaHQ7XG59XG5cbmlvbi1jb250ZW50IHtcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xufVxuXG4jZmlsdGVyLXNldHRpbmdzIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogNSU7XG4gIHRvcDogMTUlO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59Il19 */\"","import { ToolsService } from './../../service/tools.service';\nimport { MinimaApiService } from './../../service/minima-api.service';\nimport { RouterModule } from '@angular/router';\nimport { ModalController, IonList, Config, PopoverController, MenuController } from '@ionic/angular';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { HistoryService } from '../../service/history.service';\nimport { History, CompleteTransaction, Value } from 'minima';\nimport * as moment from 'moment';\nimport { map } from 'rxjs/operators';\n\ninterface TimeValue extends Value {\n  time: string;\n  day: string;\n  month: string;\n  year: string;\n}\ninterface CompleteTransactionTime extends CompleteTransaction {\n  values: TimeValue[];\n}\n\n@Component({\n  selector: 'app-history',\n  templateUrl: './history.page.html',\n  styleUrls: ['./history.page.scss']\n})\nexport class HistoryPage implements OnInit {\n\n  @ViewChild('historyList', { static: true }) historyList: IonList;\n  ios: boolean;\n  selectedSlide: any;\n  categories = 0;\n  segment = 'all';\n  month: string;\n  day: string;\n  time: string;\n  prompt = 'Fetching your history...';\n  transactions: CompleteTransaction[] = [];\n  saved: History[] = [];\n  lastJSON = '';\n\n  constructor(\n    public menu: MenuController,\n    public router: RouterModule,\n    public modalController: ModalController,\n    public popoverController: PopoverController,\n    public config: Config,\n    private myTools: ToolsService,\n    private api: MinimaApiService,\n    private historyService: HistoryService\n    ) { }\n\n  ngOnInit() {\n    this.ios = this.config.get('mode') === 'ios';\n  }\n\n  ionViewWillEnter() {\n    this.pullInHistorySummary();\n  }\n\n  openMenu() {\n    this.menu.open();\n  }\n\n  byDescDate(a: CompleteTransaction, b: CompleteTransaction) {\n    let a_date = a.txpow.header.timemilli;\n    let b_date = b.txpow.header.timemilli;\n    return b_date.localeCompare(a_date);\n  }\n\n  async pullInHistorySummary() {\n    const res = await this.historyService.loadHistoryOnce();\n    // console.log(res.history);\n    if (res) {\n      this.transactions = res.history ? res.history.slice().sort(this.byDescDate) : [];\n      this.transactions.forEach((txn: CompleteTransactionTime, i) => {\n        if(txn.values.length > 0) { \n          if (txn.values[0].name.substring(0,1) === '{') {\n            console.log(txn.values[0].name);\n            const token_descr = JSON.parse(txn.values[0].name);\n            txn.values[0].name = token_descr.name;\n          }\n  \n          txn.values[0].time = moment( parseInt(txn.txpow.header.timemilli)).format('hh:mm a');\n          txn.values[0].day = moment( parseInt(txn.txpow.header.timemilli)).format(\"DD\");\n          txn.values[0].month = moment( parseInt(txn.txpow.header.timemilli)).format(\"MMM\");\n          txn.values[0].year = moment( parseInt(txn.txpow.header.timemilli)).format(\"YYYY\");\n        }       \n\n      })\n      if (this.transactions.length === 0) {\n        this.prompt = 'No recent transactions found.';\n      }\n    }\n\n    \n\n\n\n    // this.historyService.data.pipe(map((res: History) => {\n    //   let temp = [];\n    //   temp = res.history;\n\n    //   temp.forEach((txpow: CompleteTransactionTime, i) => {\n        \n    //     if (txpow.values.length == 0) {\n    //       res.history.splice(i, 1);\n    //     }\n\n    //     if (txpow.txpow.body.txn.tokengen) {\n    //       //console.log('Token Creation, look at tokengen');\n    //       //console.log(txpow.txpow.body.txn.tokengen);\n\n\n    //     } else if (!txpow.txpow.body.txn.tokengen &&\n    //        txpow.values.length > 0 &&\n    //        txpow.values[0].name && \n    //        txpow.values[0].name.substring(0, 1) !== \"{\\\"\") {\n    //         console.log('This is a normal Minima value transaction');\n    //         // console.log(JSON.stringify(txpow));\n\n    //     } else if (!txpow.txpow.body.txn.tokengen &&\n    //        txpow.values.length > 0 &&\n    //        txpow.values[0].name && \n    //        txpow.values[0].name.substring(0, 1) === \"{\\\"\") {\n    //       console.log('This is a token value transaction');\n    //       console.log(txpow);\n    //       const token_descr = JSON.parse(txpow.values[0].name);\n    //       console.log(token_descr);\n    //       const name = token_descr.name;\n    //       console.log('Name of token txn' + name);\n    //     }\n\n    //     if( txpow.values.length > 0) {\n    //       const name = txpow.values[0].name;\n    //       if (name && !name.name && name.substring(0, 1) === '{') {\n    //         txpow.values[0].name = JSON.parse(name);\n    //         txpow.values[0].time = moment( parseInt(txpow.txpow.header.timemilli)).format('hh:mm a');\n    //         txpow.values[0].day = moment( parseInt(txpow.txpow.header.timemilli)).format(\"DD\");\n    //         txpow.values[0].month = moment( parseInt(txpow.txpow.header.timemilli)).format(\"MMM\");\n    //         txpow.values[0].year = moment( parseInt(txpow.txpow.header.timemilli)).format(\"YYYY\");\n    //       }\n    //     }\n    //   });\n    //   return res.history;\n    // })).subscribe((res: any) => {\n      \n    //   this.transactions = res;\n    // });\n    // if (this.transactions.length === 0) {\n    //   this.prompt = 'No recent transactions found...';\n    // }\n  }\n\n  giveMe50() {\n    this.api.giveMe50().then((res: any) => {\n      if(res.status === true) {\n        this.myTools.presentAlert('Gimme50', 'Successful', 'Status');\n      } else {\n        this.myTools.presentAlert('Gimme50', res.message, 'Status');\n      }\n    });\n  }\n\n }\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'historyfilter',\n  pure: false\n})\nexport class FilterPipe implements PipeTransform {\n\n  transform(txns: any[], filter: []): any {\n    let temp: any[] = [];\n    txns.forEach(txn => {\n      if (txn.values.length > 0) {\n        temp.push(txn);\n      } else {\n        return null;\n      }\n    })\n    \n\n    return temp;\n  }\n\n}\n"],"sourceRoot":""}