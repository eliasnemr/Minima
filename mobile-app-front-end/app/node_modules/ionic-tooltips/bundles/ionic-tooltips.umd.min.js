!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/animations"),require("@ionic/angular"),require("@angular/common"),require("@angular/core")):"function"==typeof define&&define.amd?define("ionic-tooltips",["exports","@angular/animations","@ionic/angular","@angular/common","@angular/core"],e):e(t["ionic-tooltips"]={},t.ng.animations,t.angular,t.ng.common,t.ng.core)}(this,function(t,e,o,i,n){"use strict";var r=function(){function t(t,e){var o=this;this.elementRef=t,this.rnd=e,this.fadeState="invisible",this.init=new Promise(function(t){o.initResolve=t})}return Object.defineProperty(t.prototype,"arrow",{set:function(t){this.rnd.setAttribute(this.getNativeElement(),"class","has-arrow arrow-"+t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"posTop",{set:function(t){this.rnd.setStyle(this.getNativeElement(),"top",t+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"posLeft",{set:function(t){this.rnd.setStyle(this.getNativeElement(),"left",t+"px")},enumerable:!0,configurable:!0}),t.prototype.getNativeElement=function(){return this.elementRef.nativeElement},t.prototype.ngAfterViewInit=function(){this.initResolve()},t.decorators=[{type:n.Component,args:[{selector:"tooltip-box",template:'\n    <div *ngIf="tooltipHtml; else txt" [innerHTML]="tooltipHtml"></div>\n    <ng-template #txt>{{ text }}</ng-template>\n  ',animations:[e.trigger("fade",[e.state("visible",e.style({opacity:1})),e.state("invisible",e.style({opacity:0})),e.transition("visible <=> invisible",e.animate("300ms linear"))])],changeDetection:n.ChangeDetectionStrategy.OnPush,styles:["\n          :host {\n              background-color: rgba(0, 0, 0, 0.8);\n              color: white;\n              display: inline-block;\n              position: fixed;\n              padding: 15px 25px;\n              font-size: 15px;\n              z-index: 3;\n          }\n    ","\n          :host.has-arrow:before {\n              content: '';\n              border: 5px solid transparent;\n              position: absolute;\n              width: 0;\n              height: 0;\n          }\n    ",":host.has-arrow.arrow-top:before { border-bottom: 5px solid rgba(0,0,0,0.8); top: -10px; }",":host.has-arrow.arrow-left:before { border-right: 5px solid rgba(0,0,0,0.8); left: -10px; }",":host.has-arrow.arrow-right:before { border-left: 5px solid rgba(0,0,0,0.8); right: -10px; }",":host.has-arrow.arrow-bottom:before { border-top: 5px solid rgba(0,0,0,0.8); bottom: -10px; }"]}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2}]},t.propDecorators={fadeState:[{type:n.HostBinding,args:["@fade"]}],text:[{type:n.Input}],tooltipHtml:[{type:n.Input}],arrow:[{type:n.Input}],posTop:[{type:n.Input}],posLeft:[{type:n.Input}]},t}(),s=function(){function t(){this.allowMultiple=!0,this.activeTooltips=[]}return t.prototype.addTooltip=function(t){(t.hideOthers||!this.allowMultiple&&0<this.activeTooltips.length)&&this.hideAll(),this.activeTooltips.push(t)},t.prototype.removeTooltip=function(t){this.activeTooltips.splice(this.activeTooltips.indexOf(t),1)},t.prototype.hideAll=function(){this.activeTooltips.forEach(function(t){t.removeTooltip()})},t.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=n.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),p=function(){function t(t,e,o,i,n,r){this.el=t,this.appRef=e,this.platform=o,this.cfr=i,this.tooltipCtrl=n,this.vcr=r,this.mobileEvent="press",this.desktopEvent="hover",this.duration=3e3,this._arrow=!1,this._navTooltip=!1,this._canShow=!0,this._active=!1}return Object.defineProperty(t.prototype,"navTooltip",{get:function(){return this._navTooltip},set:function(t){this._navTooltip="boolean"!=typeof t||!1!==t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arrow",{get:function(){return this._arrow},set:function(t){this._arrow="boolean"!=typeof t||!1!==t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(t){this._active="boolean"!=typeof t||!1!==t,this._active&&this.canShow?this.showTooltip():this.removeTooltip()},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this._active&&this.trigger()},t.prototype.ngOnInit=function(){this.event||(this.event=this.platform.is("mobile")?this.mobileEvent:this.desktopEvent)},Object.defineProperty(t.prototype,"canShow",{get:function(){return this._canShow&&("string"==typeof this.tooltip&&""!==this.tooltip||"string"==typeof this.tooltipHtml&&""!==this.tooltipHtml)},set:function(t){this._canShow=t},enumerable:!0,configurable:!0}),t.prototype.trigger=function(){this.canShow&&(this.tooltipElement?this._resetTimer():this.showTooltip())},t.prototype.showTooltip=function(){var o=this;this._createTooltipComponent();var i=this.tooltipElement.instance;i.text=this.tooltip,i.tooltipHtml=this.tooltipHtml,i.init.then(function(){var t=o._getTooltipPosition();if(i.posLeft=t.left,i.posTop=t.top,i.fadeState="visible",o.arrow){var e=void 0;e="top"===o.positionV?"bottom":"bottom"===o.positionV?"top":"left"===o.positionH?"right":"left",i.arrow=e}o._active||(o.tooltipTimeout=setTimeout(o.removeTooltip.bind(o),o.duration))})},t.prototype.onClick=function(){"click"===this.event&&this.trigger()},t.prototype.onPress=function(){"press"===this.event&&this.trigger()},t.prototype.onMouseEnter=function(){"hover"===this.event&&(this.active=!0)},t.prototype.onMouseLeave=function(){"hover"===this.event&&(this.active=!1)},t.prototype._createTooltipComponent=function(){var t=this.cfr.resolveComponentFactory(r);this.tooltipElement=this.vcr.createComponent(t),this.tooltipCtrl.addTooltip(this)},t.prototype._getTooltipPosition=function(){var t,e,o=this.tooltipElement.instance.getNativeElement(),i=this.el.nativeElement,n=i.getBoundingClientRect(),r=10;return this.navTooltip&&(this.positionV="bottom",this.arrow=!1,r=20),t="right"===this.positionH?n.right+r:"left"===this.positionH?n.left-r-o.offsetWidth:this.navTooltip?n.left+i.offsetWidth/2:n.left,e="top"===this.positionV?n.top-r-o.offsetHeight:"bottom"===this.positionV?n.bottom+r:n.top+i.offsetHeight/2-o.offsetHeight/2,+this.topOffset&&(e+=+this.topOffset),+this.leftOffset&&(t+=+this.leftOffset),t+o.offsetWidth+r>this.platform.width()?t=this.platform.width()-o.offsetWidth-r:t+o.offsetWidth-r<0&&(t=r),e+o.offsetHeight+r>this.platform.height()?e=this.platform.height()-o.offsetHeight-r:e+o.offsetHeight-r<0&&(e=r),{left:t,top:e}},t.prototype.removeTooltip=function(){var t=this;if(!this.tooltipElement)return this.tooltipElement=undefined,void(this.tooltipTimeout=undefined);this.tooltipElement.instance.fadeState="invisible",this.canShow=!1,setTimeout(function(){t.tooltipElement&&"function"==typeof t.tooltipElement.destroy&&t.tooltipElement.destroy(),t.tooltipCtrl.removeTooltip(t),t.tooltipElement=t.tooltipTimeout=undefined,t.canShow=!0},300)},t.prototype._resetTimer=function(){var t=this;clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){t.active=!1},this.duration)},t.prototype.ngOnDestroy=function(){this.removeTooltip()},t.decorators=[{type:n.Directive,args:[{selector:"[tooltip]"}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ApplicationRef},{type:o.Platform},{type:n.ComponentFactoryResolver},{type:s},{type:n.ViewContainerRef}]},t.propDecorators={tooltipHtml:[{type:n.Input}],tooltip:[{type:n.Input}],positionV:[{type:n.Input}],positionH:[{type:n.Input}],event:[{type:n.Input}],mobileEvent:[{type:n.Input}],desktopEvent:[{type:n.Input}],topOffset:[{type:n.Input}],leftOffset:[{type:n.Input}],hideOthers:[{type:n.Input}],navTooltip:[{type:n.Input}],arrow:[{type:n.Input}],duration:[{type:n.Input}],active:[{type:n.Input}],onClick:[{type:n.HostListener,args:["click"]}],onPress:[{type:n.HostListener,args:["press"]}],onMouseEnter:[{type:n.HostListener,args:["mouseenter"]}],onMouseLeave:[{type:n.HostListener,args:["mouseleave"]}]},t}(),l=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[s]}},t.decorators=[{type:n.NgModule,args:[{entryComponents:[r],declarations:[p,r],imports:[i.CommonModule],exports:[p]}]}],t}();t.TooltipBox=r,t.TooltipDirective=p,t.TooltipsModule=l,t.TooltipController=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ionic-tooltips.umd.min.js.map