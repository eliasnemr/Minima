<ion-app>
<ion-header class="page-header ion-no-border">
  <ion-toolbar>
    <ion-title>
      <ion-item id="title" lines="none" class="ion-no-padding">
        <ion-icon class="menu-btn" (click)="openMenu()" src="assets/menuIcon.svg"></ion-icon>
        Token
      </ion-item>
      <ion-item id="subtitle" class="breadcrumb ion-no-padding" lines="none">
        Create a custom token
      </ion-item>
      
    </ion-title>
  </ion-toolbar>
</ion-header>


<ion-content class="page-content">
  <form (ngSubmit)="createTokenAdvanced()" [formGroup]="tokenCreationForm" id='tokenCreationForm'>
  <ion-list lines="none">

    <ion-item class="no-ripple ion-no-padding" lines="none">
      <ion-label position="stacked">Name</ion-label>
      <ion-input placeholder="Enter a token name" class="medium-text input" #nameTextArea name="name" formControlName="name"></ion-input>
    </ion-item>
    <ion-item class="error" lines="none" *ngIf="name.invalid && name.touched">
      <ion-note class="error-message">
        <ion-icon name="alert-circle"></ion-icon> <span> A name is required!</span>
        <span style="margin-left: 2px"> A name must be a maximum length of 255 characters.</span> 
      </ion-note>
    </ion-item>

    <ion-item class="no-ripple ion-no-padding" lines="none">
      <ion-label position="stacked">Amount</ion-label>
      <ion-input placeholder="Enter token amount" type="number" class="medium-text input" #amountRef name="amount" formControlName="amount"></ion-input>
    </ion-item>
    <ion-item class="error ion-no-padding" lines="none" *ngIf="amount.invalid && amount.touched">
      <ion-note class="error-message">
        <ion-icon name="alert-circle"></ion-icon> <span> An amount is required!</span>
        <span style="margin-left: 2px"> An amount must be numeric and greater than 0.</span> 
      </ion-note>
    </ion-item>

    <ion-item class="no-ripple ion-no-padding" lines="none" lines="none">
      <ion-label position="stacked">Icon <span style="font-family: manrope-light; color:var(--ion-color-optional)">(optional)</span></ion-label>
      <ion-input class="medium-text input" name="icon" #iconURL formControlName="icon" placeholder="Enter a valid icon URL"></ion-input>
    </ion-item>

    <ion-item class="error ion-no-padding" lines="none" *ngIf="icon.invalid && icon.touched">
      <ion-note class="error-message">
        <ion-icon name="alert-circle"></ion-icon> <span> Invalid icon URL!</span>
        <span style="margin-left: 2px"> An icon URL should be of maximum 255 characters and end with .jpg or .png to be valid.</span> 
      </ion-note>
    </ion-item>

    <ion-item class="no-ripple ion-no-padding" lines="none" lines="none">
      <ion-label position="stacked">Proof <span style="font-family: manrope-light; color:var(--ion-color-optional)">(optional)</span></ion-label>
      <ion-input  name="proof" class="medium-text input" #proofURL formControlName="proof" placeholder="Enter URL of website hosting token ID text"></ion-input>
    </ion-item>

    <ion-item class="error ion-no-padding" lines="none" *ngIf="proof.invalid && proof.touched">
      <ion-note class="error-message">
        <ion-icon name="alert-circle"></ion-icon> <span> Invalid proof URL!</span>
        <span style="margin-left: 2px"> A proof URL should be a max length of 255 characters with a .txt file in the URL.</span> 
      </ion-note>
    </ion-item>

    <ion-item class="no-ripple ion-no-padding" lines="none" lines="none">
      <ion-label position="stacked">Description <span style="font-family: manrope-light; color:var(--ion-color-optional)">(optional)</span></ion-label>
      <ion-textarea
      #description 
      class="medium-text input"
      name="description"
      maxlength="255"
      [(ngModel)] = "customToken.description"
      formControlName="description"
      placeholder="Enter a description">
      </ion-textarea>
    </ion-item>
    <ion-label class="length" *ngIf="customToken.description && customToken.description.length > 0">{{ customToken.description.length+'/255'}}</ion-label>
    
    <ion-item id="nft" class="no-ripple ion-no-padding">
      <ion-label>
        <ion-icon class="nftIcon" src="assets/nft2.svg"></ion-icon> 
        <span style="font-size:16px;font-family: manrope-light; color:var(--ion-color-optional); margin-right: 7px">(optional) </span>        
      </ion-label>
      <ion-checkbox formControlName="nft" slot="end"></ion-checkbox>
    </ion-item>
    <ion-item class="ion-no-padding">
      <ion-label class="nft ion-no-padding ion-no-margin">
        Spend this token in whole only.
      </ion-label>
    </ion-item>
    
    <ion-item lines="none" class="ion-no-padding">
      <ion-button slot="end" #submitBtn type="submit" class="create-token" [disabled]="tokenCreationForm.invalid" fill="clear">
        Create Token
      </ion-button>
    </ion-item>

  </ion-list>

  </form>
</ion-content>

<ion-footer class="border-t">
  <ion-button (click)="giveMe50()" class="gimme50 no-ripple" fill="none">
    Gimme 50
  </ion-button>
</ion-footer>

</ion-app>