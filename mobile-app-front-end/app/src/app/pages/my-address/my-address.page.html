<ion-app>
<ion-header>
  <ion-toolbar class="border-b">
    <ion-buttons slot="start">
      <ion-menu-button class="menu-icon"></ion-menu-button>
    </ion-buttons>
    <ion-title class="large-text">
      Receive
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-toolbar *ngIf="user && user.tips && !user.tips.address && qrCode.length > 0">
    <ion-badge id="tip">
    <ion-row>
      <ion-col class="center" size="1">
        <ion-icon id="info" name="information-circle-outline"></ion-icon>
      </ion-col>
      <ion-col class="center">
        <ion-label>
          You can use this address as many times as you wish, click generate for a new address.
        </ion-label>
      </ion-col>
      <ion-col class="center" size="1">
        <span (click)="hideTip()" id="dismiss">&times;</span>
      </ion-col>
    </ion-row>
  </ion-badge>
  </ion-toolbar>

  <ion-grid *ngIf="this.qrCode.length == 0">
    <ion-row>
      <ion-col style="display: flex; align-items:center; justify-content:center" size="12">
        <ion-label>Fetching an address...</ion-label>
      </ion-col>
      <ion-col style="display: flex; align-items:center; justify-content:center" size="12">
        <ion-spinner name="crescent"></ion-spinner>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-card class="borders" *ngIf="this.qrCode.length > 0">
    <ion-card-header>
      Wallet Address
    </ion-card-header>
    <ion-card-content>
    <ion-grid fixed>
      <ion-row>
        <ion-col size-md="4" size-s="3" size-xs="6">
         
            <qrcode
              [qrdata]="qrCode"
              [level]="'Q'"
              *ngIf="qrCode!==''">
            </qrcode> 

        </ion-col>
      </ion-row>
    </ion-grid>  
    <ion-card-subtitle style="text-align: center;">
        <div class="medium-text">
           <ion-badge>{{ qrCode }} </ion-badge>
        </div>

      <ion-button 
        fill="outline"
        size="small"
        class="copy-btn"
        (click)="copyToClipPWA()">
        Copy
      </ion-button>

      <br>

      This address can be used for any Minima or Minima token transaction.

    </ion-card-subtitle>
    </ion-card-content>
  </ion-card>
</ion-content>



<ion-footer>
  <ion-toolbar class="border-t">
    <ion-buttons>
      <ion-button   
          #generateAddressBtn  
          class="action-btn medium-text"
          expand="full"
          (click)="generateAddress(qrCode)"
          [disabled]="!isEmpty">
      <ion-icon
            name="refresh" 
            slot="start">
      </ion-icon> Generate Address
    </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
</ion-app>